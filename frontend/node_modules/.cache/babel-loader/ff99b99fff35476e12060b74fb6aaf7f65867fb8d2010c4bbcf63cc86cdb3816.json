{"ast":null,"code":"import React from'react';import{Row,Col}from'antd';import{calculateStats,formatPercent,getPriceColor}from'../utils/helpers';import StatCard from'./StatCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StatsCards=_ref=>{let{stocks,loading=false}=_ref;const stats=calculateStats(stocks);const getTooltipContent=type=>{switch(type){case'total':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u6DA8\\u8DCC\\u5206\\u5E03\\u660E\\u7EC6\\uFF1A\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#22c55e'},children:[\"\\uD83D\\uDCC8 \\u4E0A\\u6DA8\\uFF1A\",stats.risingCount,\" \\u53EA\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#ef4444'},children:[\"\\uD83D\\uDCC9 \\u4E0B\\u8DCC\\uFF1A\",stats.fallingCount,\" \\u53EA\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#ffffff'},children:[\"\\u27A1\\uFE0F \\u5E73\\u76D8\\uFF1A\",stats.flatCount,\" \\u53EA\"]})]});case'average':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"\\u6DA8\\u8DCC\\u5E45\\u8BE6\\u60C5\\uFF1A\"}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#22c55e'},children:[\"\\uD83D\\uDCC8 \\u6700\\u9AD8\\u6DA8\\u5E45\\uFF1A\",formatPercent(stats.maxChangePercent)]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#ef4444'},children:[\"\\uD83D\\uDCC9 \\u6700\\u4F4E\\u8DCC\\u5E45\\uFF1A\",formatPercent(stats.minChangePercent)]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uD83D\\uDCCA \\u5E73\\u5747\\u6DA8\\u8DCC\\u5E45\\uFF1A\",formatPercent(stats.avgChangePercent)]})]});case'strong':return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"\\u5F3A\\u52BF\\u80A1\\u8BE6\\u60C5\\uFF08\\u6DA8\\u5E45 \",'>',\" 5%\\uFF09\\uFF1A\"]}),stats.strongStocksList.length>0?stats.strongStocksList.map((stock,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{color:'#22c55e'},children:[\"\\uD83D\\uDE80 \",stock.name,\"(\",stock.code,\")\\uFF1A\",formatPercent(stock.change_percent)]},index)):/*#__PURE__*/_jsx(\"div\",{style:{color:'#888'},children:\"\\u6682\\u65E0\\u5F3A\\u52BF\\u80A1\"})]});default:return null;}};const cards=[{title:'ÂÖ≥Ê≥®ËÇ°Á•®ÊÄªÊï∞',icon:'üìä',iconClass:'icon-chart',value:stats.totalCount,subtitle:`‚ÜëÊ∂®${stats.risingCount} ‚ÜìË∑å${stats.fallingCount} ‚ÜíÂπ≥${stats.flatCount}`,trend:'neutral',tooltipType:'total'},{title:'Âπ≥ÂùáÊ∂®Ë∑åÂπÖ',icon:stats.avgChangePercent>0?'üìà':stats.avgChangePercent<0?'üìâ':'‚û°Ô∏è',iconClass:'icon-trend',value:formatPercent(stats.avgChangePercent),subtitle:'‰ªäÊó•Êï¥‰ΩìË°®Áé∞',trend:stats.avgChangePercent>0?'up':stats.avgChangePercent<0?'down':'neutral',color:getPriceColor(stats.avgChangePercent),tooltipType:'average'},{title:'Âº∫ÂäøËÇ°',icon:stats.strongStocks>0?'üöÄ':'üìä',iconClass:'icon-star',value:stats.strongStocks,subtitle:'Ê∂®ÂπÖ > 5%',trend:stats.strongStocks>0?'up':'neutral',tooltipType:'strong'},{title:'ÊúÄÂêéÊõ¥Êñ∞',icon:'üîî',iconClass:'icon-bell',value:stats.lastUpdate,subtitle:new Date().toLocaleDateString('zh-CN'),trend:'neutral'}];return/*#__PURE__*/_jsx(Row,{gutter:[20,20],style:{marginBottom:32},children:cards.map((card,index)=>/*#__PURE__*/_jsx(Col,{xs:12,sm:12,md:6,lg:6,xl:6,children:/*#__PURE__*/_jsx(\"div\",{style:{animationDelay:`${index*0.1}s`},children:/*#__PURE__*/_jsx(StatCard,{title:card.title,icon:card.icon,iconClass:card.iconClass,value:card.value,subtitle:card.subtitle,trend:card.trend,color:card.color,tooltipTitle:card.tooltipType?getTooltipContent(card.tooltipType):undefined,loading:loading})})},index))});};export default StatsCards;","map":{"version":3,"names":["React","Row","Col","calculateStats","formatPercent","getPriceColor","StatCard","jsx","_jsx","jsxs","_jsxs","StatsCards","_ref","stocks","loading","stats","getTooltipContent","type","children","style","color","risingCount","fallingCount","flatCount","maxChangePercent","minChangePercent","avgChangePercent","strongStocksList","length","map","stock","index","name","code","change_percent","cards","title","icon","iconClass","value","totalCount","subtitle","trend","tooltipType","strongStocks","lastUpdate","Date","toLocaleDateString","gutter","marginBottom","card","xs","sm","md","lg","xl","animationDelay","tooltipTitle","undefined"],"sources":["E:/AICode/StockInsight/frontend/src/components/StatsCards.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Row, Col } from 'antd';\r\nimport { StockInfo } from '../services/api';\r\nimport { calculateStats, formatPercent, getPriceColor } from '../utils/helpers';\r\nimport StatCard from './StatCard';\r\n\r\ninterface StatsCardsProps {\r\n  stocks: StockInfo[];\r\n  loading?: boolean;\r\n}\r\n\r\nconst StatsCards: React.FC<StatsCardsProps> = ({ stocks, loading = false }) => {\r\n  const stats = calculateStats(stocks);\r\n\r\n  const getTooltipContent = (type: string) => {\r\n    switch (type) {\r\n      case 'total':\r\n        return (\r\n          <div>\r\n            <div>Ê∂®Ë∑åÂàÜÂ∏ÉÊòéÁªÜÔºö</div>\r\n            <div style={{ color: '#22c55e' }}>üìà ‰∏äÊ∂®Ôºö{stats.risingCount} Âè™</div>\r\n            <div style={{ color: '#ef4444' }}>üìâ ‰∏ãË∑åÔºö{stats.fallingCount} Âè™</div>\r\n            <div style={{ color: '#ffffff' }}>‚û°Ô∏è Âπ≥ÁõòÔºö{stats.flatCount} Âè™</div>\r\n          </div>\r\n        );\r\n      case 'average':\r\n        return (\r\n          <div>\r\n            <div>Ê∂®Ë∑åÂπÖËØ¶ÊÉÖÔºö</div>\r\n            <div style={{ color: '#22c55e' }}>üìà ÊúÄÈ´òÊ∂®ÂπÖÔºö{formatPercent(stats.maxChangePercent)}</div>\r\n            <div style={{ color: '#ef4444' }}>üìâ ÊúÄ‰ΩéË∑åÂπÖÔºö{formatPercent(stats.minChangePercent)}</div>\r\n            <div>üìä Âπ≥ÂùáÊ∂®Ë∑åÂπÖÔºö{formatPercent(stats.avgChangePercent)}</div>\r\n          </div>\r\n        );\r\n      case 'strong':\r\n         return (\r\n           <div>\r\n             <div>Âº∫ÂäøËÇ°ËØ¶ÊÉÖÔºàÊ∂®ÂπÖ {'>'} 5%ÔºâÔºö</div>\r\n             {stats.strongStocksList.length > 0 ? (\r\n               stats.strongStocksList.map((stock, index) => (\r\n                 <div key={index} style={{ color: '#22c55e' }}>\r\n                   üöÄ {stock.name}({stock.code})Ôºö{formatPercent(stock.change_percent)}\r\n                 </div>\r\n               ))\r\n             ) : (\r\n               <div style={{ color: '#888' }}>ÊöÇÊó†Âº∫ÂäøËÇ°</div>\r\n             )}\r\n           </div>\r\n         );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  type TrendType = 'up' | 'down' | 'neutral';\r\n\r\n  const cards = [\r\n    {\r\n      title: 'ÂÖ≥Ê≥®ËÇ°Á•®ÊÄªÊï∞',\r\n      icon: 'üìä',\r\n      iconClass: 'icon-chart',\r\n      value: stats.totalCount,\r\n      subtitle: `‚ÜëÊ∂®${stats.risingCount} ‚ÜìË∑å${stats.fallingCount} ‚ÜíÂπ≥${stats.flatCount}`,\r\n      trend: 'neutral' as TrendType,\r\n      tooltipType: 'total'\r\n    },\r\n    {\r\n      title: 'Âπ≥ÂùáÊ∂®Ë∑åÂπÖ',\r\n      icon: stats.avgChangePercent > 0 ? 'üìà' : stats.avgChangePercent < 0 ? 'üìâ' : '‚û°Ô∏è',\r\n      iconClass: 'icon-trend',\r\n      value: formatPercent(stats.avgChangePercent),\r\n      subtitle: '‰ªäÊó•Êï¥‰ΩìË°®Áé∞',\r\n      trend: (stats.avgChangePercent > 0 ? 'up' : stats.avgChangePercent < 0 ? 'down' : 'neutral') as TrendType,\r\n      color: getPriceColor(stats.avgChangePercent),\r\n      tooltipType: 'average'\r\n    },\r\n    {\r\n      title: 'Âº∫ÂäøËÇ°',\r\n      icon: stats.strongStocks > 0 ? 'üöÄ' : 'üìä',\r\n      iconClass: 'icon-star',\r\n      value: stats.strongStocks,\r\n      subtitle: 'Ê∂®ÂπÖ > 5%',\r\n      trend: (stats.strongStocks > 0 ? 'up' : 'neutral') as TrendType,\r\n      tooltipType: 'strong'\r\n    },\r\n    {\r\n      title: 'ÊúÄÂêéÊõ¥Êñ∞',\r\n      icon: 'üîî',\r\n      iconClass: 'icon-bell',\r\n      value: stats.lastUpdate,\r\n      subtitle: new Date().toLocaleDateString('zh-CN'),\r\n      trend: 'neutral' as TrendType\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <Row gutter={[20, 20]} style={{ marginBottom: 32 }}>\r\n      {cards.map((card, index) => (\r\n        <Col xs={12} sm={12} md={6} lg={6} xl={6} key={index}>\r\n          <div style={{ animationDelay: `${index * 0.1}s` }}>\r\n            <StatCard\r\n              title={card.title}\r\n              icon={card.icon}\r\n              iconClass={card.iconClass}\r\n              value={card.value}\r\n              subtitle={card.subtitle}\r\n              trend={card.trend}\r\n              color={card.color}\r\n              tooltipTitle={card.tooltipType ? getTooltipContent(card.tooltipType) : undefined}\r\n              loading={loading}\r\n            />\r\n          </div>\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default StatsCards;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}