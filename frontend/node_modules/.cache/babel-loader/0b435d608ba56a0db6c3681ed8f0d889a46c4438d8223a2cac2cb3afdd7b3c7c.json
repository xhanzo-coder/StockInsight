{"ast":null,"code":"var _jsxFileName = \"E:\\\\AICode\\\\StockInsight\\\\frontend\\\\src\\\\components\\\\StockTable.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Table, Button, message, Tooltip, Space } from 'antd';\nimport { DeleteOutlined, BarChartOutlined, PushpinOutlined, PushpinFilled } from '@ant-design/icons';\nimport { apiService } from '../services/api';\nimport StockChart from './StockChart';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StockTable = ({\n  stocks,\n  loading = false,\n  onRemoveStock,\n  onDrawerStateChange,\n  onRefresh\n}) => {\n  _s();\n  const [chartVisible, setChartVisible] = useState(false);\n  const [selectedStock, setSelectedStock] = useState(null);\n  const [pinLoading, setPinLoading] = useState(''); // 记录正在切换置顶状态的股票代码\n  const [currentPage, setCurrentPage] = useState(1);\n  const [pageSize, setPageSize] = useState(20);\n\n  // 计算动态表格高度\n  const getTableHeight = () => {\n    // 基础高度：表头(40px) + 每行(40px) + 底部间距(20px)\n    const headerHeight = 40;\n    const rowHeight = 40;\n    const bottomPadding = 20;\n    const calculatedHeight = headerHeight + pageSize * rowHeight + bottomPadding;\n\n    // 设置最小高度和最大高度\n    const minHeight = 200;\n    const maxHeight = 600;\n    return Math.max(minHeight, Math.min(maxHeight, calculatedHeight));\n  };\n\n  // 自定义排序图标\n  const CustomSortIcon = ({\n    sortOrder\n  }) => {\n    if (sortOrder === 'ascend') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#1890ff'\n        },\n        children: \"\\u2191\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 14\n      }, this);\n    }\n    if (sortOrder === 'descend') {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#1890ff'\n        },\n        children: \"\\u2193\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: '#bfbfbf'\n      },\n      children: \"\\u2195\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  };\n\n  // 处理股票移除\n  const handleRemove = async code => {\n    try {\n      await onRemoveStock(code);\n    } catch (error) {\n      console.error('移除股票失败:', error);\n      message.error('移除失败，请重试');\n    }\n  };\n\n  // 处理股票置顶切换\n  const handleTogglePin = async code => {\n    setPinLoading(code);\n    try {\n      const response = await apiService.togglePinStock(code);\n      if (response.success) {\n        message.success(response.message);\n        onRefresh === null || onRefresh === void 0 ? void 0 : onRefresh(); // 刷新列表以更新排序\n      } else {\n        message.error(response.error || '操作失败');\n      }\n    } catch (error) {\n      console.error('切换置顶状态失败:', error);\n      message.error('操作失败，请重试');\n    } finally {\n      setPinLoading('');\n    }\n  };\n\n  // 处理股票名称点击，显示走势图\n  const handleStockNameClick = (code, name) => {\n    setSelectedStock({\n      code,\n      name\n    });\n    setChartVisible(true);\n    onDrawerStateChange === null || onDrawerStateChange === void 0 ? void 0 : onDrawerStateChange(true);\n  };\n\n  // 关闭走势图\n  const handleChartClose = () => {\n    setChartVisible(false);\n    setSelectedStock(null);\n    onDrawerStateChange === null || onDrawerStateChange === void 0 ? void 0 : onDrawerStateChange(false);\n  };\n\n  // 双击股票代码复制到剪贴板\n  const handleCodeDoubleClick = async code => {\n    try {\n      await navigator.clipboard.writeText(code);\n      message.success(`股票代码 ${code} 已复制到剪贴板`);\n    } catch (error) {\n      console.error('复制失败:', error);\n      message.error('复制失败');\n    }\n  };\n\n  // 表格列定义\n  const columns = [{\n    title: '股票信息',\n    key: 'stock_info',\n    width: 180,\n    fixed: 'left',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 'bold',\n          cursor: 'pointer',\n          color: '#1890ff',\n          marginBottom: '2px'\n        },\n        onClick: () => handleStockNameClick(record.code, record.name),\n        title: \"\\u70B9\\u51FB\\u67E5\\u770B\\u8D70\\u52BF\\u56FE\",\n        children: record.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '12px',\n          color: '#666',\n          cursor: 'pointer'\n        },\n        onDoubleClick: () => handleCodeDoubleClick(record.code),\n        title: \"\\u53CC\\u51FB\\u590D\\u5236\\u4EE3\\u7801\",\n        children: record.code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '11px',\n          color: '#999'\n        },\n        children: record.industry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '当前价格',\n    dataIndex: 'current_price',\n    key: 'current_price',\n    width: 100,\n    align: 'right',\n    sorter: (a, b) => (a.current_price || 0) - (b.current_price || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? `¥${value.toFixed(2)}` : '-'\n  }, {\n    title: '涨跌幅',\n    key: 'change',\n    width: 120,\n    align: 'right',\n    sorter: (a, b) => (a.change_percent || 0) - (b.change_percent || 0),\n    sortIcon: CustomSortIcon,\n    render: (_, record) => {\n      const changePercent = record.change_percent;\n      const changeAmount = record.change_amount;\n      if (changePercent === null || changePercent === undefined) return '-';\n      const color = changePercent > 0 ? '#f5222d' : changePercent < 0 ? '#52c41a' : '#666';\n      const prefix = changePercent > 0 ? '+' : '';\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [prefix, changePercent.toFixed(2), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this), changeAmount && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: '11px'\n          },\n          children: [prefix, changeAmount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }, this);\n    }\n  }, {\n    title: '市值',\n    dataIndex: 'market_cap',\n    key: 'market_cap',\n    width: 100,\n    align: 'right',\n    sorter: (a, b) => {\n      const getNumericValue = cap => {\n        if (!cap || cap === '-') return 0;\n        const num = parseFloat(cap.replace(/[^\\d.]/g, ''));\n        if (cap.includes('万亿')) return num * 10000;\n        if (cap.includes('千亿')) return num * 1000;\n        if (cap.includes('亿')) return num;\n        return num / 100;\n      };\n      return getNumericValue(a.market_cap || '') - getNumericValue(b.market_cap || '');\n    },\n    sortIcon: CustomSortIcon,\n    render: value => value || '-'\n  }, {\n    title: '市赚率',\n    dataIndex: 'market_earning_ratio',\n    key: 'market_earning_ratio',\n    width: 90,\n    align: 'right',\n    sorter: (a, b) => (a.market_earning_ratio || 0) - (b.market_earning_ratio || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? value.toFixed(2) : '-'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"TTM\\u5E02\\u76C8\\u7387\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          whiteSpace: 'nowrap'\n        },\n        children: \"TTM\\u5E02\\u76C8\\u7387\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this),\n    dataIndex: 'pe_ratio_ttm',\n    key: 'pe_ratio_ttm',\n    width: 100,\n    align: 'right',\n    sorter: (a, b) => (a.pe_ratio_ttm || 0) - (b.pe_ratio_ttm || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? value.toFixed(2) : '-'\n  }, {\n    title: 'ROE',\n    dataIndex: 'roe',\n    key: 'roe',\n    width: 80,\n    align: 'right',\n    sorter: (a, b) => {\n      const aValue = typeof a.roe === 'number' ? a.roe : 0;\n      const bValue = typeof b.roe === 'number' ? b.roe : 0;\n      return aValue - bValue;\n    },\n    sortIcon: CustomSortIcon,\n    render: value => {\n      if (typeof value === 'number') {\n        return `${(value * 100).toFixed(2)}%`;\n      }\n      return value || '-';\n    }\n  }, {\n    title: '市净率',\n    dataIndex: 'pb_ratio',\n    key: 'pb_ratio',\n    width: 90,\n    align: 'right',\n    sorter: (a, b) => (a.pb_ratio || 0) - (b.pb_ratio || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? value.toFixed(2) : '-'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"\\u80A1\\u5229\\u652F\\u4ED8\\u7387\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          whiteSpace: 'nowrap'\n        },\n        children: \"\\u80A1\\u5229\\u652F\\u4ED8\\u7387\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }, this),\n    dataIndex: 'dividend_payout_ratio',\n    key: 'dividend_payout_ratio',\n    width: 110,\n    align: 'right',\n    sorter: (a, b) => {\n      const aValue = typeof a.dividend_payout_ratio === 'number' ? a.dividend_payout_ratio : 0;\n      const bValue = typeof b.dividend_payout_ratio === 'number' ? b.dividend_payout_ratio : 0;\n      return aValue - bValue;\n    },\n    sortIcon: CustomSortIcon,\n    render: value => {\n      if (typeof value === 'number') {\n        return `${(value * 100).toFixed(2)}%`;\n      }\n      return value || '-';\n    }\n  }, {\n    title: '修正系数',\n    dataIndex: 'correction_factor',\n    key: 'correction_factor',\n    width: 100,\n    align: 'right',\n    sorter: (a, b) => (a.correction_factor || 0) - (b.correction_factor || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? value.toFixed(2) : '-'\n  }, {\n    title: /*#__PURE__*/_jsxDEV(Tooltip, {\n      title: \"\\u4FEE\\u6B63\\u5E02\\u8D5A\\u7387\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          whiteSpace: 'nowrap'\n        },\n        children: \"\\u4FEE\\u6B63\\u5E02\\u8D5A\\u7387\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this),\n    dataIndex: 'corrected_market_earning_ratio',\n    key: 'corrected_market_earning_ratio',\n    width: 110,\n    align: 'right',\n    sorter: (a, b) => (a.corrected_market_earning_ratio || 0) - (b.corrected_market_earning_ratio || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? value.toFixed(2) : '-'\n  }, {\n    title: '理论股价',\n    dataIndex: 'theoretical_price',\n    key: 'theoretical_price',\n    width: 100,\n    align: 'right',\n    sorter: (a, b) => (a.theoretical_price || 0) - (b.theoretical_price || 0),\n    sortIcon: CustomSortIcon,\n    render: value => value ? `¥${value.toFixed(2)}` : '-'\n  }, {\n    title: '操作',\n    key: 'action',\n    width: 120,\n    fixed: 'right',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"small\",\n      children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n        title: record.is_pinned ? \"取消置顶\" : \"置顶\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          size: \"small\",\n          icon: record.is_pinned ? /*#__PURE__*/_jsxDEV(PushpinFilled, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(PushpinOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 60\n          }, this),\n          loading: pinLoading === record.code,\n          onClick: () => handleTogglePin(record.code),\n          style: {\n            color: record.is_pinned ? '#f5222d' : '#666',\n            padding: '0 4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\u67E5\\u770B\\u8D70\\u52BF\\u56FE\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          size: \"small\",\n          icon: /*#__PURE__*/_jsxDEV(BarChartOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 21\n          }, this),\n          onClick: () => handleStockNameClick(record.code, record.name),\n          style: {\n            color: '#1890ff',\n            padding: '0 4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n        title: \"\\u79FB\\u9664\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"text\",\n          size: \"small\",\n          danger: true,\n          icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 21\n          }, this),\n          onClick: () => handleRemove(record.code),\n          style: {\n            padding: '0 4px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 9\n    }, this)\n  }];\n\n  // 表格配置\n  const tableProps = {\n    columns,\n    dataSource: stocks,\n    loading,\n    rowKey: 'code',\n    size: 'small',\n    scroll: {\n      x: 1400,\n      y: getTableHeight()\n    },\n    pagination: {\n      current: currentPage,\n      pageSize: pageSize,\n      showSizeChanger: true,\n      showQuickJumper: true,\n      showTotal: (total, range) => /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: '#8b8d97'\n        },\n        children: [\"\\u7B2C \", range[0], \"-\", range[1], \" \\u6761\\uFF0C\\u5171 \", total, \" \\u6761\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this),\n      pageSizeOptions: ['10', '20', '50', '100'],\n      size: 'default',\n      className: 'custom-pagination',\n      style: {\n        marginTop: '16px',\n        textAlign: 'center'\n      },\n      onChange: (page, size) => {\n        console.log('分页变化:', {\n          page,\n          size\n        });\n        setCurrentPage(page);\n        if (size !== pageSize) {\n          setPageSize(size);\n          setCurrentPage(1); // 改变页面大小时重置到第一页\n        }\n      },\n      onShowSizeChange: (current, size) => {\n        console.log('页面大小变化:', {\n          current,\n          size\n        });\n        setPageSize(size);\n        setCurrentPage(1); // 改变页面大小时重置到第一页\n      }\n    },\n    style: {\n      backgroundColor: '#2a2d3a',\n      borderRadius: '8px',\n      overflow: 'hidden',\n      border: '1px solid #3a3d4a'\n    },\n    onRow: record => ({\n      onDoubleClick: () => {\n        handleStockNameClick(record.code, record.name);\n      }\n    })\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      ...tableProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this), chartVisible && selectedStock && /*#__PURE__*/_jsxDEV(StockChart, {\n      visible: chartVisible,\n      stockCode: selectedStock.code,\n      stockName: selectedStock.name,\n      onClose: handleChartClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(StockTable, \"CHAgabgW+0fBmBn68USyg5eoWLI=\");\n_c = StockTable;\nexport default StockTable;\nvar _c;\n$RefreshReg$(_c, \"StockTable\");","map":{"version":3,"names":["React","useState","Table","Button","message","Tooltip","Space","DeleteOutlined","BarChartOutlined","PushpinOutlined","PushpinFilled","apiService","StockChart","jsxDEV","_jsxDEV","Fragment","_Fragment","StockTable","stocks","loading","onRemoveStock","onDrawerStateChange","onRefresh","_s","chartVisible","setChartVisible","selectedStock","setSelectedStock","pinLoading","setPinLoading","currentPage","setCurrentPage","pageSize","setPageSize","getTableHeight","headerHeight","rowHeight","bottomPadding","calculatedHeight","minHeight","maxHeight","Math","max","min","CustomSortIcon","sortOrder","style","color","children","fileName","_jsxFileName","lineNumber","columnNumber","handleRemove","code","error","console","handleTogglePin","response","togglePinStock","success","handleStockNameClick","name","handleChartClose","handleCodeDoubleClick","navigator","clipboard","writeText","columns","title","key","width","fixed","render","_","record","fontWeight","cursor","marginBottom","onClick","fontSize","onDoubleClick","industry","dataIndex","align","sorter","a","b","current_price","sortIcon","value","toFixed","change_percent","changePercent","changeAmount","change_amount","undefined","prefix","getNumericValue","cap","num","parseFloat","replace","includes","market_cap","market_earning_ratio","whiteSpace","pe_ratio_ttm","aValue","roe","bValue","pb_ratio","dividend_payout_ratio","correction_factor","corrected_market_earning_ratio","theoretical_price","size","is_pinned","type","icon","padding","danger","tableProps","dataSource","rowKey","scroll","x","y","pagination","current","showSizeChanger","showQuickJumper","showTotal","total","range","pageSizeOptions","className","marginTop","textAlign","onChange","page","log","onShowSizeChange","backgroundColor","borderRadius","overflow","border","onRow","visible","stockCode","stockName","onClose","_c","$RefreshReg$"],"sources":["E:/AICode/StockInsight/frontend/src/components/StockTable.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Table, Button, message, Tooltip, Space } from 'antd';\r\nimport { DeleteOutlined, BarChartOutlined, PushpinOutlined, PushpinFilled } from '@ant-design/icons';\r\nimport type { ColumnsType, TableProps } from 'antd/es/table';\r\nimport { StockInfo, apiService } from '../services/api';\r\nimport StockChart from './StockChart';\r\n\r\ninterface StockTableProps {\r\n  stocks: StockInfo[];\r\n  loading?: boolean;\r\n  onRemoveStock: (code: string) => void;\r\n  onDrawerStateChange?: (isOpen: boolean) => void;\r\n  onRefresh?: () => void;\r\n}\r\n\r\nconst StockTable: React.FC<StockTableProps> = ({ \r\n  stocks, \r\n  loading = false, \r\n  onRemoveStock,\r\n  onDrawerStateChange,\r\n  onRefresh \r\n}) => {\r\n  const [chartVisible, setChartVisible] = useState(false);\r\n  const [selectedStock, setSelectedStock] = useState<{ code: string; name: string } | null>(null);\r\n  const [pinLoading, setPinLoading] = useState<string>(''); // 记录正在切换置顶状态的股票代码\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(20);\r\n\r\n  // 计算动态表格高度\r\n  const getTableHeight = () => {\r\n    // 基础高度：表头(40px) + 每行(40px) + 底部间距(20px)\r\n    const headerHeight = 40;\r\n    const rowHeight = 40;\r\n    const bottomPadding = 20;\r\n    const calculatedHeight = headerHeight + (pageSize * rowHeight) + bottomPadding;\r\n    \r\n    // 设置最小高度和最大高度\r\n    const minHeight = 200;\r\n    const maxHeight = 600;\r\n    \r\n    return Math.max(minHeight, Math.min(maxHeight, calculatedHeight));\r\n  };\r\n\r\n  // 自定义排序图标\r\n  const CustomSortIcon = ({ sortOrder }: { sortOrder?: 'ascend' | 'descend' | null }) => {\r\n    if (sortOrder === 'ascend') {\r\n      return <span style={{ color: '#1890ff' }}>↑</span>;\r\n    }\r\n    if (sortOrder === 'descend') {\r\n      return <span style={{ color: '#1890ff' }}>↓</span>;\r\n    }\r\n    return <span style={{ color: '#bfbfbf' }}>↕</span>;\r\n  };\r\n\r\n  // 处理股票移除\r\n  const handleRemove = async (code: string) => {\r\n    try {\r\n      await onRemoveStock(code);\r\n    } catch (error) {\r\n      console.error('移除股票失败:', error);\r\n      message.error('移除失败，请重试');\r\n    }\r\n  };\r\n\r\n  // 处理股票置顶切换\r\n  const handleTogglePin = async (code: string) => {\r\n    setPinLoading(code);\r\n    try {\r\n      const response = await apiService.togglePinStock(code);\r\n      if (response.success) {\r\n        message.success(response.message);\r\n        onRefresh?.(); // 刷新列表以更新排序\r\n      } else {\r\n        message.error(response.error || '操作失败');\r\n      }\r\n    } catch (error) {\r\n      console.error('切换置顶状态失败:', error);\r\n      message.error('操作失败，请重试');\r\n    } finally {\r\n      setPinLoading('');\r\n    }\r\n  };\r\n\r\n  // 处理股票名称点击，显示走势图\r\n  const handleStockNameClick = (code: string, name: string) => {\r\n    setSelectedStock({ code, name });\r\n    setChartVisible(true);\r\n    onDrawerStateChange?.(true);\r\n  };\r\n\r\n  // 关闭走势图\r\n  const handleChartClose = () => {\r\n    setChartVisible(false);\r\n    setSelectedStock(null);\r\n    onDrawerStateChange?.(false);\r\n  };\r\n\r\n  // 双击股票代码复制到剪贴板\r\n  const handleCodeDoubleClick = async (code: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(code);\r\n      message.success(`股票代码 ${code} 已复制到剪贴板`);\r\n    } catch (error) {\r\n      console.error('复制失败:', error);\r\n      message.error('复制失败');\r\n    }\r\n  };\r\n\r\n  // 表格列定义\r\n  const columns: ColumnsType<StockInfo> = [\r\n    {\r\n      title: '股票信息',\r\n      key: 'stock_info',\r\n      width: 180,\r\n      fixed: 'left',\r\n      render: (_, record) => (\r\n        <div>\r\n          <div \r\n            style={{ \r\n              fontWeight: 'bold', \r\n              cursor: 'pointer',\r\n              color: '#1890ff',\r\n              marginBottom: '2px'\r\n            }}\r\n            onClick={() => handleStockNameClick(record.code, record.name)}\r\n            title=\"点击查看走势图\"\r\n          >\r\n            {record.name}\r\n          </div>\r\n          <div \r\n            style={{ \r\n              fontSize: '12px', \r\n              color: '#666',\r\n              cursor: 'pointer'\r\n            }}\r\n            onDoubleClick={() => handleCodeDoubleClick(record.code)}\r\n            title=\"双击复制代码\"\r\n          >\r\n            {record.code}\r\n          </div>\r\n          <div style={{ fontSize: '11px', color: '#999' }}>\r\n            {record.industry}\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: '当前价格',\r\n      dataIndex: 'current_price',\r\n      key: 'current_price',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.current_price || 0) - (b.current_price || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? `¥${value.toFixed(2)}` : '-',\r\n    },\r\n    {\r\n      title: '涨跌幅',\r\n      key: 'change',\r\n      width: 120,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.change_percent || 0) - (b.change_percent || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (_, record) => {\r\n        const changePercent = record.change_percent;\r\n        const changeAmount = record.change_amount;\r\n        if (changePercent === null || changePercent === undefined) return '-';\r\n        \r\n        const color = changePercent > 0 ? '#f5222d' : changePercent < 0 ? '#52c41a' : '#666';\r\n        const prefix = changePercent > 0 ? '+' : '';\r\n        \r\n        return (\r\n          <div style={{ color }}>\r\n            <div>{prefix}{changePercent.toFixed(2)}%</div>\r\n            {changeAmount && (\r\n              <div style={{ fontSize: '11px' }}>\r\n                {prefix}{changeAmount.toFixed(2)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '市值',\r\n      dataIndex: 'market_cap',\r\n      key: 'market_cap',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const getNumericValue = (cap: string) => {\r\n          if (!cap || cap === '-') return 0;\r\n          const num = parseFloat(cap.replace(/[^\\d.]/g, ''));\r\n          if (cap.includes('万亿')) return num * 10000;\r\n          if (cap.includes('千亿')) return num * 1000;\r\n          if (cap.includes('亿')) return num;\r\n          return num / 100;\r\n        };\r\n        return getNumericValue(a.market_cap || '') - getNumericValue(b.market_cap || '');\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value || '-',\r\n    },\r\n    {\r\n      title: '市赚率',\r\n      dataIndex: 'market_earning_ratio',\r\n      key: 'market_earning_ratio',\r\n      width: 90,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.market_earning_ratio || 0) - (b.market_earning_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"TTM市盈率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>TTM市盈率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'pe_ratio_ttm',\r\n      key: 'pe_ratio_ttm',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.pe_ratio_ttm || 0) - (b.pe_ratio_ttm || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: 'ROE',\r\n      dataIndex: 'roe',\r\n      key: 'roe',\r\n      width: 80,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const aValue = typeof a.roe === 'number' ? a.roe : 0;\r\n        const bValue = typeof b.roe === 'number' ? b.roe : 0;\r\n        return aValue - bValue;\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => {\r\n        if (typeof value === 'number') {\r\n          return `${(value * 100).toFixed(2)}%`;\r\n        }\r\n        return value || '-';\r\n      },\r\n    },\r\n    {\r\n      title: '市净率',\r\n      dataIndex: 'pb_ratio',\r\n      key: 'pb_ratio',\r\n      width: 90,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.pb_ratio || 0) - (b.pb_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"股利支付率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>股利支付率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'dividend_payout_ratio',\r\n      key: 'dividend_payout_ratio',\r\n      width: 110,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const aValue = typeof a.dividend_payout_ratio === 'number' ? a.dividend_payout_ratio : 0;\r\n        const bValue = typeof b.dividend_payout_ratio === 'number' ? b.dividend_payout_ratio : 0;\r\n        return aValue - bValue;\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => {\r\n        if (typeof value === 'number') {\r\n          return `${(value * 100).toFixed(2)}%`;\r\n        }\r\n        return value || '-';\r\n      },\r\n    },\r\n    {\r\n      title: '修正系数',\r\n      dataIndex: 'correction_factor',\r\n      key: 'correction_factor',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.correction_factor || 0) - (b.correction_factor || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"修正市赚率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>修正市赚率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'corrected_market_earning_ratio',\r\n      key: 'corrected_market_earning_ratio',\r\n      width: 110,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.corrected_market_earning_ratio || 0) - (b.corrected_market_earning_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: '理论股价',\r\n      dataIndex: 'theoretical_price',\r\n      key: 'theoretical_price',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.theoretical_price || 0) - (b.theoretical_price || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? `¥${value.toFixed(2)}` : '-',\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 120,\r\n      fixed: 'right',\r\n      render: (_, record) => (\r\n        <Space size=\"small\">\r\n          <Tooltip title={record.is_pinned ? \"取消置顶\" : \"置顶\"}>\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              icon={record.is_pinned ? <PushpinFilled /> : <PushpinOutlined />}\r\n              loading={pinLoading === record.code}\r\n              onClick={() => handleTogglePin(record.code)}\r\n              style={{ \r\n                color: record.is_pinned ? '#f5222d' : '#666',\r\n                padding: '0 4px'\r\n              }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"查看走势图\">\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              icon={<BarChartOutlined />}\r\n              onClick={() => handleStockNameClick(record.code, record.name)}\r\n              style={{ color: '#1890ff', padding: '0 4px' }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"移除\">\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              danger\r\n              icon={<DeleteOutlined />}\r\n              onClick={() => handleRemove(record.code)}\r\n              style={{ padding: '0 4px' }}\r\n            />\r\n          </Tooltip>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // 表格配置\r\n  const tableProps: TableProps<StockInfo> = {\r\n    columns,\r\n    dataSource: stocks,\r\n    loading,\r\n    rowKey: 'code',\r\n    size: 'small',\r\n    scroll: { x: 1400, y: getTableHeight() },\r\n    pagination: {\r\n      current: currentPage,\r\n      pageSize: pageSize,\r\n      showSizeChanger: true,\r\n      showQuickJumper: true,\r\n      showTotal: (total, range) => (\r\n        <span style={{ color: '#8b8d97' }}>\r\n          第 {range[0]}-{range[1]} 条，共 {total} 条\r\n        </span>\r\n      ),\r\n      pageSizeOptions: ['10', '20', '50', '100'],\r\n      size: 'default',\r\n      className: 'custom-pagination',\r\n      style: {\r\n        marginTop: '16px',\r\n        textAlign: 'center',\r\n      },\r\n      onChange: (page, size) => {\r\n        console.log('分页变化:', { page, size });\r\n        setCurrentPage(page);\r\n        if (size !== pageSize) {\r\n          setPageSize(size);\r\n          setCurrentPage(1); // 改变页面大小时重置到第一页\r\n        }\r\n      },\r\n      onShowSizeChange: (current, size) => {\r\n        console.log('页面大小变化:', { current, size });\r\n        setPageSize(size);\r\n        setCurrentPage(1); // 改变页面大小时重置到第一页\r\n      },\r\n    },\r\n    style: {\r\n      backgroundColor: '#2a2d3a',\r\n      borderRadius: '8px',\r\n      overflow: 'hidden',\r\n      border: '1px solid #3a3d4a',\r\n    },\r\n    onRow: (record) => ({\r\n      onDoubleClick: () => {\r\n        handleStockNameClick(record.code, record.name);\r\n      },\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table {...tableProps} />\r\n      \r\n      {chartVisible && selectedStock && (\r\n        <StockChart\r\n          visible={chartVisible}\r\n          stockCode={selectedStock.code}\r\n          stockName={selectedStock.name}\r\n          onClose={handleChartClose}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StockTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}