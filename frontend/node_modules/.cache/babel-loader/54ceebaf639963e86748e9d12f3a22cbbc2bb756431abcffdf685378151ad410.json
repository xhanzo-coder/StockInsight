{"ast":null,"code":"var _jsxFileName = \"E:\\\\AICode\\\\StockInsight\\\\frontend\\\\src\\\\components\\\\SearchBox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useMemo, useEffect } from 'react';\nimport { AutoComplete, Button, message, Divider, Tag, Tooltip } from 'antd';\nimport { SearchOutlined, HistoryOutlined, FireOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { apiService } from '../services/api';\nimport { debounce, handleApiError } from '../utils/helpers';\nimport { stockCache, CACHE_KEYS } from '../utils/stockCache';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// 热门股票列表\nconst HOT_STOCKS = [{\n  code: '600519',\n  name: '贵州茅台'\n}, {\n  code: '300750',\n  name: '宁德时代'\n}, {\n  code: '002594',\n  name: '比亚迪'\n}, {\n  code: '600036',\n  name: '招商银行'\n}, {\n  code: '601318',\n  name: '中国平安'\n}, {\n  code: '600276',\n  name: '恒瑞医药'\n}, {\n  code: '601888',\n  name: '中国中免'\n}, {\n  code: '000858',\n  name: '五粮液'\n}];\n\n// 搜索历史本地存储键名\nconst SEARCH_HISTORY_KEY = 'stock_search_history';\nconst SearchBox = ({\n  onSelectStock,\n  onAddStock,\n  placeholder = \"搜索股票代码或名称...\"\n}) => {\n  _s();\n  const [options, setOptions] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchValue, setSearchValue] = useState('');\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [showHistory, setShowHistory] = useState(false);\n\n  // 加载搜索历史\n  useEffect(() => {\n    try {\n      const historyJson = localStorage.getItem(SEARCH_HISTORY_KEY);\n      if (historyJson) {\n        const history = JSON.parse(historyJson);\n        setSearchHistory(history);\n      }\n    } catch (error) {\n      console.error('加载搜索历史失败:', error);\n    }\n  }, []);\n\n  // 保存搜索历史\n  const saveToHistory = stock => {\n    try {\n      // 检查是否已存在\n      const exists = searchHistory.some(item => item.code === stock.code);\n      if (!exists) {\n        // 添加到历史记录前端，限制为10条\n        const newHistory = [stock, ...searchHistory].slice(0, 10);\n        setSearchHistory(newHistory);\n        // 保存到localStorage\n        localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(newHistory));\n      } else {\n        // 如果已存在，将其移到最前面\n        const newHistory = [stock, ...searchHistory.filter(item => item.code !== stock.code)].slice(0, 10);\n        setSearchHistory(newHistory);\n        localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(newHistory));\n      }\n    } catch (error) {\n      console.error('保存搜索历史失败:', error);\n    }\n  };\n\n  // 清空搜索历史\n  const clearSearchHistory = e => {\n    e.stopPropagation();\n    try {\n      localStorage.removeItem(SEARCH_HISTORY_KEY);\n      setSearchHistory([]);\n      message.success('搜索历史已清空');\n    } catch (error) {\n      console.error('清空搜索历史失败:', error);\n      message.error('清空搜索历史失败');\n    }\n  };\n\n  // 搜索股票的核心逻辑\n  const performSearch = useCallback(async keyword => {\n    if (!keyword.trim()) {\n      setOptions([]);\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await apiService.searchStocks(keyword, 10);\n      if (response.success && response.data) {\n        const searchOptions = response.data.map(stock => ({\n          value: `${stock.code} ${stock.name}`,\n          label: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                flex: 1\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 500,\n                  color: '#ffffff'\n                },\n                children: stock.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: '0.8rem',\n                  color: '#8b8d97'\n                },\n                children: [stock.code, \" | \\xA5\", stock.current_price.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: '8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  textAlign: 'right'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    color: stock.change_percent > 0 ? '#22c55e' : stock.change_percent < 0 ? '#ef4444' : '#8b8d97',\n                    fontSize: '0.8rem'\n                  },\n                  children: [stock.change_percent > 0 ? '+' : '', stock.change_percent.toFixed(2), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this), onAddStock && /*#__PURE__*/_jsxDEV(Button, {\n                type: \"primary\",\n                size: \"small\",\n                onClick: e => {\n                  e.stopPropagation();\n                  onAddStock(stock);\n                },\n                style: {\n                  background: '#667eea',\n                  borderColor: '#667eea',\n                  fontSize: '0.75rem',\n                  height: '24px',\n                  padding: '0 8px'\n                },\n                children: \"\\u6DFB\\u52A0\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this),\n          stock\n        }));\n        setOptions(searchOptions);\n      } else {\n        setOptions([]);\n      }\n    } catch (error) {\n      console.error('搜索失败:', error);\n      message.error(handleApiError(error));\n      setOptions([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [onAddStock]);\n\n  // 防抖搜索函数\n  const searchStocks = useMemo(() => debounce(keyword => {\n    performSearch(keyword);\n  }, 300), [performSearch]);\n\n  // 处理输入变化时的下拉选项显示（仅用于建议，不执行搜索）\n  const handleInputChange = value => {\n    setSearchValue(value);\n    if (value.trim().length >= 2) {\n      // 只有输入2个字符以上才显示建议，但不执行实际搜索\n      searchStocks(value);\n    } else if (value.trim() === '') {\n      // 当输入框为空时，显示历史记录和热门股票\n      setShowHistory(true);\n      setOptions([]);\n    } else {\n      setOptions([]);\n      setShowHistory(false);\n    }\n  };\n\n  // 处理输入框获得焦点\n  const handleFocus = () => {\n    if (!searchValue.trim()) {\n      setShowHistory(true);\n    }\n  };\n\n  // 处理输入框失去焦点\n  const handleBlur = () => {\n    // 延迟关闭，以便用户可以点击历史记录\n    setTimeout(() => {\n      setShowHistory(false);\n    }, 200);\n  };\n\n  // 处理选择\n  const handleSelect = (value, option) => {\n    onSelectStock(option.stock);\n    saveToHistory(option.stock);\n    setSearchValue('');\n    setOptions([]);\n    setShowHistory(false);\n  };\n\n  // 从历史记录中选择\n  const selectFromHistory = stock => {\n    onSelectStock(stock);\n    saveToHistory(stock);\n    setSearchValue('');\n    setShowHistory(false);\n  };\n\n  // 从热门股票中选择\n  const selectHotStock = async hotStock => {\n    try {\n      setLoading(true);\n      // 先检查缓存\n      const cacheKey = CACHE_KEYS.SEARCH_RESULTS(hotStock.code);\n      const cached = stockCache.get(cacheKey);\n      if (cached && cached.success && cached.data && cached.data.length > 0) {\n        const stock = cached.data[0];\n        onSelectStock(stock);\n        saveToHistory(stock);\n        message.success(`已添加 ${hotStock.name} 到关注列表`);\n      } else {\n        // 如果缓存中没有，则从API获取\n        const response = await apiService.searchStocks(hotStock.code, 1);\n        if (response.success && response.data && response.data.length > 0) {\n          const stock = response.data[0];\n          onSelectStock(stock);\n          saveToHistory(stock);\n          message.success(`已添加 ${hotStock.name} 到关注列表`);\n        } else {\n          message.error(`未找到股票: ${hotStock.name}`);\n        }\n      }\n    } catch (error) {\n      console.error('添加热门股票失败:', error);\n      message.error(handleApiError(error));\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 处理搜索按钮点击\n  const handleSearchClick = async () => {\n    if (searchValue.trim()) {\n      setLoading(true);\n      try {\n        const response = await apiService.searchStocks(searchValue, 10);\n        if (response.success && response.data && response.data.length > 0) {\n          // 如果搜索成功且有结果，保存第一个结果到历史记录\n          if (response.data[0]) {\n            saveToHistory(response.data[0]);\n          }\n          const searchOptions = response.data.map(stock => ({\n            value: `${stock.code} ${stock.name}`,\n            label: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontWeight: 500,\n                    color: '#ffffff'\n                  },\n                  children: stock.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    fontSize: '0.8rem',\n                    color: '#8b8d97'\n                  },\n                  children: [stock.code, \" | \\xA5\", stock.current_price.toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: '8px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: stock.change_percent > 0 ? '#22c55e' : stock.change_percent < 0 ? '#ef4444' : '#8b8d97',\n                      fontSize: '0.8rem'\n                    },\n                    children: [stock.change_percent > 0 ? '+' : '', stock.change_percent.toFixed(2), \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), onAddStock && /*#__PURE__*/_jsxDEV(Button, {\n                  type: \"primary\",\n                  size: \"small\",\n                  onClick: e => {\n                    e.stopPropagation();\n                    onAddStock(stock);\n                  },\n                  style: {\n                    background: '#667eea',\n                    borderColor: '#667eea',\n                    fontSize: '0.75rem',\n                    height: '24px',\n                    padding: '0 8px'\n                  },\n                  children: \"\\u6DFB\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this),\n            stock\n          }));\n          setOptions(searchOptions);\n          message.success(`找到 ${response.data.length} 个相关股票`);\n        } else {\n          setOptions([]);\n          message.info('未找到相关股票，请尝试其他关键词');\n        }\n      } catch (error) {\n        console.error('搜索失败:', error);\n        message.error(handleApiError(error));\n        setOptions([]);\n      } finally {\n        setLoading(false);\n      }\n    } else {\n      message.warning('请输入搜索关键词');\n    }\n  };\n\n  // 处理键盘事件\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearchClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      zIndex: 1050\n    },\n    children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        display: 'flex',\n        alignItems: 'center',\n        width: '320px',\n        height: '48px',\n        margin: '0 auto 20px auto',\n        // 减少底部外边距\n        marginTop: '0px' // 减少顶部间距\n      },\n      children: [/*#__PURE__*/_jsxDEV(SearchOutlined, {\n        style: {\n          position: 'absolute',\n          left: '14px',\n          color: '#8b8d97',\n          fontSize: '16px',\n          zIndex: 10\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AutoComplete, {\n        value: searchValue,\n        options: options,\n        onSearch: handleInputChange,\n        onSelect: handleSelect,\n        onInputKeyDown: handleKeyPress,\n        onFocus: handleFocus,\n        onBlur: handleBlur,\n        placeholder: placeholder,\n        style: {\n          width: '100%',\n          height: '48px'\n        },\n        dropdownStyle: {\n          background: '#2a2d3a',\n          border: '1px solid #3a3d4a',\n          borderRadius: '8px',\n          zIndex: 1000\n        },\n        notFoundContent: loading ? '搜索中...' : searchValue.trim().length < 2 ? '请输入至少2个字符' : '暂无结果',\n        filterOption: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: handleSearchClick,\n        loading: loading,\n        style: {\n          position: 'absolute',\n          right: '6px',\n          background: '#667eea',\n          borderColor: '#667eea',\n          borderRadius: '20px',\n          padding: '8px 16px',\n          fontSize: '14px',\n          fontWeight: 500,\n          zIndex: 10,\n          height: '36px',\n          lineHeight: '20px'\n        },\n        children: \"\\u641C\\u7D22\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        dangerouslySetInnerHTML: {\n          __html: `\n          .ant-select-selector {\n            background: #2a2d3a !important;\n            border: 1px solid #3a3d4a !important;\n            border-radius: 24px !important;\n            padding: 0 50px 0 40px !important;\n            height: 48px !important;\n            color: #ffffff !important;\n            display: flex !important;\n            align-items: center !important;\n          }\n          .ant-select-selection-search-input {\n            background: transparent !important;\n            border: none !important;\n            color: #ffffff !important;\n            height: 100% !important;\n          }\n          .ant-select-selection-placeholder {\n            color: #8b8d97 !important;\n            left: 40px !important;\n          }\n        `\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), showHistory && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '60px',\n        // 增加顶部距离，避免与搜索框重叠\n        left: '50%',\n        transform: 'translateX(-50%)',\n        // 居中显示\n        width: '320px',\n        background: '#2a2d3a',\n        border: '1px solid #3a3d4a',\n        borderRadius: '8px',\n        padding: '12px',\n        zIndex: 1051,\n        // 提高z-index确保在其他元素之上\n        boxShadow: '0 6px 16px rgba(0, 0, 0, 0.25)',\n        maxHeight: '400px',\n        // 限制最大高度\n        overflowY: 'auto' // 内容过多时可滚动\n      },\n      children: [searchHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(HistoryOutlined, {\n              style: {\n                color: '#8b8d97'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#8b8d97',\n                fontSize: '12px'\n              },\n              children: \"\\u641C\\u7D22\\u5386\\u53F2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"text\",\n            size: \"small\",\n            icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 25\n            }, this),\n            onClick: clearSearchHistory,\n            style: {\n              color: '#8b8d97',\n              fontSize: '12px'\n            },\n            children: \"\\u6E05\\u7A7A\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '8px',\n            marginBottom: '12px'\n          },\n          children: searchHistory.map(stock => /*#__PURE__*/_jsxDEV(Tag, {\n            style: {\n              background: '#3a3d4a',\n              borderColor: '#4a4d5a',\n              color: '#ffffff',\n              cursor: 'pointer',\n              padding: '4px 8px',\n              borderRadius: '4px'\n            },\n            onClick: () => selectFromHistory(stock),\n            children: [stock.name, \" (\", stock.code, \")\"]\n          }, stock.code, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          style: {\n            margin: '8px 0',\n            borderColor: '#3a3d4a'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: '6px',\n            marginBottom: '8px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(FireOutlined, {\n            style: {\n              color: '#f59e0b'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: '#8b8d97',\n              fontSize: '12px'\n            },\n            children: \"\\u70ED\\u95E8\\u80A1\\u7968\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 485,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: '8px'\n          },\n          children: HOT_STOCKS.map(stock => /*#__PURE__*/_jsxDEV(Tooltip, {\n            title: `添加${stock.name}到关注列表`,\n            children: /*#__PURE__*/_jsxDEV(Tag, {\n              style: {\n                background: '#3a3d4a',\n                borderColor: '#4a4d5a',\n                color: '#ffffff',\n                cursor: 'pointer',\n                padding: '4px 8px',\n                borderRadius: '4px'\n              },\n              onClick: () => selectHotStock(stock),\n              children: [stock.name, \" (\", stock.code, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 19\n            }, this)\n          }, stock.code, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n_s(SearchBox, \"3FyAjPo7oRxVUNPG0CONtCUWH0Y=\");\n_c = SearchBox;\nexport default SearchBox;\nvar _c;\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"names":["React","useState","useCallback","useMemo","useEffect","AutoComplete","Button","message","Divider","Tag","Tooltip","SearchOutlined","HistoryOutlined","FireOutlined","DeleteOutlined","apiService","debounce","handleApiError","stockCache","CACHE_KEYS","jsxDEV","_jsxDEV","HOT_STOCKS","code","name","SEARCH_HISTORY_KEY","SearchBox","onSelectStock","onAddStock","placeholder","_s","options","setOptions","loading","setLoading","searchValue","setSearchValue","searchHistory","setSearchHistory","showHistory","setShowHistory","historyJson","localStorage","getItem","history","JSON","parse","error","console","saveToHistory","stock","exists","some","item","newHistory","slice","setItem","stringify","filter","clearSearchHistory","e","stopPropagation","removeItem","success","performSearch","keyword","trim","response","searchStocks","data","searchOptions","map","value","label","style","display","justifyContent","alignItems","children","flex","fontWeight","color","fileName","_jsxFileName","lineNumber","columnNumber","fontSize","current_price","toFixed","gap","textAlign","change_percent","type","size","onClick","background","borderColor","height","padding","handleInputChange","length","handleFocus","handleBlur","setTimeout","handleSelect","option","selectFromHistory","selectHotStock","hotStock","cacheKey","SEARCH_RESULTS","cached","get","handleSearchClick","info","warning","handleKeyPress","key","position","zIndex","width","margin","marginTop","left","onSearch","onSelect","onInputKeyDown","onFocus","onBlur","dropdownStyle","border","borderRadius","notFoundContent","filterOption","right","lineHeight","dangerouslySetInnerHTML","__html","top","transform","boxShadow","maxHeight","overflowY","marginBottom","icon","flexWrap","cursor","title","_c","$RefreshReg$"],"sources":["E:/AICode/StockInsight/frontend/src/components/SearchBox.tsx"],"sourcesContent":["import React, { useState, useCallback, useMemo, useEffect } from 'react';\r\nimport { AutoComplete, Button, message, Divider, Tag, Tooltip } from 'antd';\r\nimport { SearchOutlined, HistoryOutlined, FireOutlined, DeleteOutlined } from '@ant-design/icons';\r\nimport { apiService, SearchResult } from '../services/api';\r\nimport { debounce, handleApiError } from '../utils/helpers';\r\nimport { stockCache, CACHE_KEYS } from '../utils/stockCache';\r\n\r\ninterface SearchBoxProps {\r\n  onSelectStock: (stock: SearchResult) => void;\r\n  onAddStock?: (stock: SearchResult) => void;\r\n  placeholder?: string;\r\n}\r\n\r\n// 热门股票列表\r\nconst HOT_STOCKS = [\r\n  { code: '600519', name: '贵州茅台' },\r\n  { code: '300750', name: '宁德时代' },\r\n  { code: '002594', name: '比亚迪' },\r\n  { code: '600036', name: '招商银行' },\r\n  { code: '601318', name: '中国平安' },\r\n  { code: '600276', name: '恒瑞医药' },\r\n  { code: '601888', name: '中国中免' },\r\n  { code: '000858', name: '五粮液' }\r\n];\r\n\r\n// 搜索历史本地存储键名\r\nconst SEARCH_HISTORY_KEY = 'stock_search_history';\r\n\r\ninterface OptionType {\r\n  value: string;\r\n  label: React.ReactNode;\r\n  stock: SearchResult;\r\n}\r\n\r\nconst SearchBox: React.FC<SearchBoxProps> = ({ \r\n  onSelectStock,\r\n  onAddStock,\r\n  placeholder = \"搜索股票代码或名称...\" \r\n}) => {\r\n  const [options, setOptions] = useState<OptionType[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchValue, setSearchValue] = useState('');\r\n  const [searchHistory, setSearchHistory] = useState<SearchResult[]>([]);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n\r\n  // 加载搜索历史\r\n  useEffect(() => {\r\n    try {\r\n      const historyJson = localStorage.getItem(SEARCH_HISTORY_KEY);\r\n      if (historyJson) {\r\n        const history = JSON.parse(historyJson);\r\n        setSearchHistory(history);\r\n      }\r\n    } catch (error) {\r\n      console.error('加载搜索历史失败:', error);\r\n    }\r\n  }, []);\r\n\r\n  // 保存搜索历史\r\n  const saveToHistory = (stock: SearchResult) => {\r\n    try {\r\n      // 检查是否已存在\r\n      const exists = searchHistory.some(item => item.code === stock.code);\r\n      if (!exists) {\r\n        // 添加到历史记录前端，限制为10条\r\n        const newHistory = [stock, ...searchHistory].slice(0, 10);\r\n        setSearchHistory(newHistory);\r\n        // 保存到localStorage\r\n        localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(newHistory));\r\n      } else {\r\n        // 如果已存在，将其移到最前面\r\n        const newHistory = [\r\n          stock,\r\n          ...searchHistory.filter(item => item.code !== stock.code)\r\n        ].slice(0, 10);\r\n        setSearchHistory(newHistory);\r\n        localStorage.setItem(SEARCH_HISTORY_KEY, JSON.stringify(newHistory));\r\n      }\r\n    } catch (error) {\r\n      console.error('保存搜索历史失败:', error);\r\n    }\r\n  };\r\n\r\n  // 清空搜索历史\r\n  const clearSearchHistory = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    try {\r\n      localStorage.removeItem(SEARCH_HISTORY_KEY);\r\n      setSearchHistory([]);\r\n      message.success('搜索历史已清空');\r\n    } catch (error) {\r\n      console.error('清空搜索历史失败:', error);\r\n      message.error('清空搜索历史失败');\r\n    }\r\n  };\r\n\r\n  // 搜索股票的核心逻辑\r\n  const performSearch = useCallback(async (keyword: string) => {\r\n    if (!keyword.trim()) {\r\n      setOptions([]);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await apiService.searchStocks(keyword, 10);\r\n      if (response.success && response.data) {\r\n        const searchOptions: OptionType[] = response.data.map(stock => ({\r\n          value: `${stock.code} ${stock.name}`,\r\n          label: (\r\n            <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <div style={{ flex: 1 }}>\r\n                <div style={{ fontWeight: 500, color: '#ffffff' }}>{stock.name}</div>\r\n                <div style={{ fontSize: '0.8rem', color: '#8b8d97' }}>\r\n                  {stock.code} | ¥{stock.current_price.toFixed(2)}\r\n                </div>\r\n              </div>\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                <div style={{ textAlign: 'right' }}>\r\n                  <div style={{ \r\n                    color: stock.change_percent > 0 ? '#22c55e' : \r\n                           stock.change_percent < 0 ? '#ef4444' : '#8b8d97',\r\n                    fontSize: '0.8rem'\r\n                  }}>\r\n                    {stock.change_percent > 0 ? '+' : ''}{stock.change_percent.toFixed(2)}%\r\n                  </div>\r\n                </div>\r\n                {onAddStock && (\r\n                  <Button\r\n                    type=\"primary\"\r\n                    size=\"small\"\r\n                    onClick={(e) => {\r\n                      e.stopPropagation();\r\n                      onAddStock(stock);\r\n                    }}\r\n                    style={{\r\n                      background: '#667eea',\r\n                      borderColor: '#667eea',\r\n                      fontSize: '0.75rem',\r\n                      height: '24px',\r\n                      padding: '0 8px'\r\n                    }}\r\n                  >\r\n                    添加\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ),\r\n          stock\r\n        }));\r\n        setOptions(searchOptions);\r\n      } else {\r\n        setOptions([]);\r\n      }\r\n    } catch (error) {\r\n      console.error('搜索失败:', error);\r\n      message.error(handleApiError(error));\r\n      setOptions([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [onAddStock]);\r\n\r\n  // 防抖搜索函数\r\n  const searchStocks = useMemo(\r\n    () => debounce((keyword: string) => {\r\n      performSearch(keyword);\r\n    }, 300),\r\n    [performSearch]\r\n  );\r\n\r\n  // 处理输入变化时的下拉选项显示（仅用于建议，不执行搜索）\r\n  const handleInputChange = (value: string) => {\r\n    setSearchValue(value);\r\n    if (value.trim().length >= 2) {\r\n      // 只有输入2个字符以上才显示建议，但不执行实际搜索\r\n      searchStocks(value);\r\n    } else if (value.trim() === '') {\r\n      // 当输入框为空时，显示历史记录和热门股票\r\n      setShowHistory(true);\r\n      setOptions([]);\r\n    } else {\r\n      setOptions([]);\r\n      setShowHistory(false);\r\n    }\r\n  };\r\n  \r\n  // 处理输入框获得焦点\r\n  const handleFocus = () => {\r\n    if (!searchValue.trim()) {\r\n      setShowHistory(true);\r\n    }\r\n  };\r\n  \r\n  // 处理输入框失去焦点\r\n  const handleBlur = () => {\r\n    // 延迟关闭，以便用户可以点击历史记录\r\n    setTimeout(() => {\r\n      setShowHistory(false);\r\n    }, 200);\r\n  };\r\n\r\n  // 处理选择\r\n  const handleSelect = (value: string, option: OptionType) => {\r\n    onSelectStock(option.stock);\r\n    saveToHistory(option.stock);\r\n    setSearchValue('');\r\n    setOptions([]);\r\n    setShowHistory(false);\r\n  };\r\n  \r\n  // 从历史记录中选择\r\n  const selectFromHistory = (stock: SearchResult) => {\r\n    onSelectStock(stock);\r\n    saveToHistory(stock);\r\n    setSearchValue('');\r\n    setShowHistory(false);\r\n  };\r\n  \r\n  // 从热门股票中选择\r\n  const selectHotStock = async (hotStock: {code: string, name: string}) => {\r\n    try {\r\n      setLoading(true);\r\n      // 先检查缓存\r\n      const cacheKey = CACHE_KEYS.SEARCH_RESULTS(hotStock.code);\r\n      const cached = stockCache.get<any>(cacheKey);\r\n      \r\n      if (cached && cached.success && cached.data && cached.data.length > 0) {\r\n        const stock = cached.data[0];\r\n        onSelectStock(stock);\r\n        saveToHistory(stock);\r\n        message.success(`已添加 ${hotStock.name} 到关注列表`);\r\n      } else {\r\n        // 如果缓存中没有，则从API获取\r\n        const response = await apiService.searchStocks(hotStock.code, 1);\r\n        if (response.success && response.data && response.data.length > 0) {\r\n          const stock = response.data[0];\r\n          onSelectStock(stock);\r\n          saveToHistory(stock);\r\n          message.success(`已添加 ${hotStock.name} 到关注列表`);\r\n        } else {\r\n          message.error(`未找到股票: ${hotStock.name}`);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('添加热门股票失败:', error);\r\n      message.error(handleApiError(error));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // 处理搜索按钮点击\r\n  const handleSearchClick = async () => {\r\n    if (searchValue.trim()) {\r\n      setLoading(true);\r\n      try {\r\n        const response = await apiService.searchStocks(searchValue, 10);\r\n        if (response.success && response.data && response.data.length > 0) {\r\n          // 如果搜索成功且有结果，保存第一个结果到历史记录\r\n          if (response.data[0]) {\r\n            saveToHistory(response.data[0]);\r\n          }\r\n          const searchOptions: OptionType[] = response.data.map(stock => ({\r\n            value: `${stock.code} ${stock.name}`,\r\n            label: (\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ fontWeight: 500, color: '#ffffff' }}>{stock.name}</div>\r\n                  <div style={{ fontSize: '0.8rem', color: '#8b8d97' }}>\r\n                    {stock.code} | ¥{stock.current_price.toFixed(2)}\r\n                  </div>\r\n                </div>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\r\n                  <div style={{ textAlign: 'right' }}>\r\n                    <div style={{ \r\n                      color: stock.change_percent > 0 ? '#22c55e' : \r\n                             stock.change_percent < 0 ? '#ef4444' : '#8b8d97',\r\n                      fontSize: '0.8rem'\r\n                    }}>\r\n                      {stock.change_percent > 0 ? '+' : ''}{stock.change_percent.toFixed(2)}%\r\n                    </div>\r\n                  </div>\r\n                  {onAddStock && (\r\n                    <Button\r\n                      type=\"primary\"\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        onAddStock(stock);\r\n                      }}\r\n                      style={{\r\n                        background: '#667eea',\r\n                        borderColor: '#667eea',\r\n                        fontSize: '0.75rem',\r\n                        height: '24px',\r\n                        padding: '0 8px'\r\n                      }}\r\n                    >\r\n                      添加\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ),\r\n            stock\r\n          }));\r\n          setOptions(searchOptions);\r\n          message.success(`找到 ${response.data.length} 个相关股票`);\r\n        } else {\r\n          setOptions([]);\r\n          message.info('未找到相关股票，请尝试其他关键词');\r\n        }\r\n      } catch (error) {\r\n        console.error('搜索失败:', error);\r\n        message.error(handleApiError(error));\r\n        setOptions([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    } else {\r\n      message.warning('请输入搜索关键词');\r\n    }\r\n  };\r\n\r\n  // 处理键盘事件\r\n  const handleKeyPress = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter') {\r\n      handleSearchClick();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', zIndex: 1050 }}> {/* 增加 z-index 确保下拉内容在其他元素之上 */}\r\n      <div \r\n          style={{\r\n            position: 'relative',\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            width: '320px',\r\n            height: '48px',\r\n            margin: '0 auto 20px auto', // 减少底部外边距\r\n            marginTop: '0px' // 减少顶部间距\r\n          }}\r\n        >\r\n        <SearchOutlined \r\n          style={{\r\n            position: 'absolute',\r\n            left: '14px',\r\n            color: '#8b8d97',\r\n            fontSize: '16px',\r\n            zIndex: 10\r\n          }}\r\n        />\r\n        <AutoComplete\r\n          value={searchValue}\r\n          options={options}\r\n          onSearch={handleInputChange}\r\n          onSelect={handleSelect}\r\n          onInputKeyDown={handleKeyPress}\r\n          onFocus={handleFocus}\r\n          onBlur={handleBlur}\r\n          placeholder={placeholder}\r\n          style={{\r\n            width: '100%',\r\n            height: '48px'\r\n          }}\r\n          dropdownStyle={{\r\n            background: '#2a2d3a',\r\n            border: '1px solid #3a3d4a',\r\n            borderRadius: '8px',\r\n            zIndex: 1000\r\n          }}\r\n          notFoundContent={loading ? '搜索中...' : searchValue.trim().length < 2 ? '请输入至少2个字符' : '暂无结果'}\r\n          filterOption={false}\r\n        />\r\n      <Button \r\n        type=\"primary\" \r\n        onClick={handleSearchClick}\r\n        loading={loading}\r\n        style={{\r\n          position: 'absolute',\r\n          right: '6px',\r\n          background: '#667eea',\r\n          borderColor: '#667eea',\r\n          borderRadius: '20px',\r\n          padding: '8px 16px',\r\n          fontSize: '14px',\r\n          fontWeight: 500,\r\n          zIndex: 10,\r\n          height: '36px',\r\n          lineHeight: '20px'\r\n        }}\r\n      >\r\n        搜索\r\n      </Button>\r\n      <style dangerouslySetInnerHTML={{\r\n        __html: `\r\n          .ant-select-selector {\r\n            background: #2a2d3a !important;\r\n            border: 1px solid #3a3d4a !important;\r\n            border-radius: 24px !important;\r\n            padding: 0 50px 0 40px !important;\r\n            height: 48px !important;\r\n            color: #ffffff !important;\r\n            display: flex !important;\r\n            align-items: center !important;\r\n          }\r\n          .ant-select-selection-search-input {\r\n            background: transparent !important;\r\n            border: none !important;\r\n            color: #ffffff !important;\r\n            height: 100% !important;\r\n          }\r\n          .ant-select-selection-placeholder {\r\n            color: #8b8d97 !important;\r\n            left: 40px !important;\r\n          }\r\n        `\r\n      }} />\r\n      </div>\r\n      \r\n      {/* 搜索历史和热门股票 */}\r\n      {showHistory && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '60px', // 增加顶部距离，避免与搜索框重叠\r\n          left: '50%',\r\n          transform: 'translateX(-50%)', // 居中显示\r\n          width: '320px',\r\n          background: '#2a2d3a',\r\n          border: '1px solid #3a3d4a',\r\n          borderRadius: '8px',\r\n          padding: '12px',\r\n          zIndex: 1051, // 提高z-index确保在其他元素之上\r\n          boxShadow: '0 6px 16px rgba(0, 0, 0, 0.25)',\r\n          maxHeight: '400px', // 限制最大高度\r\n          overflowY: 'auto' // 内容过多时可滚动\r\n        }}>\r\n          {/* 搜索历史 */}\r\n          {searchHistory.length > 0 && (\r\n            <div>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\r\n                <div style={{ display: 'flex', alignItems: 'center', gap: '6px' }}>\r\n                  <HistoryOutlined style={{ color: '#8b8d97' }} />\r\n                  <span style={{ color: '#8b8d97', fontSize: '12px' }}>搜索历史</span>\r\n                </div>\r\n                <Button \r\n                  type=\"text\" \r\n                  size=\"small\" \r\n                  icon={<DeleteOutlined />} \r\n                  onClick={clearSearchHistory}\r\n                  style={{ color: '#8b8d97', fontSize: '12px' }}\r\n                >\r\n                  清空\r\n                </Button>\r\n              </div>\r\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px', marginBottom: '12px' }}>\r\n                {searchHistory.map((stock) => (\r\n                  <Tag \r\n                    key={stock.code}\r\n                    style={{\r\n                      background: '#3a3d4a',\r\n                      borderColor: '#4a4d5a',\r\n                      color: '#ffffff',\r\n                      cursor: 'pointer',\r\n                      padding: '4px 8px',\r\n                      borderRadius: '4px'\r\n                    }}\r\n                    onClick={() => selectFromHistory(stock)}\r\n                  >\r\n                    {stock.name} ({stock.code})\r\n                  </Tag>\r\n                ))}\r\n              </div>\r\n              <Divider style={{ margin: '8px 0', borderColor: '#3a3d4a' }} />\r\n            </div>\r\n          )}\r\n          \r\n          {/* 热门股票 */}\r\n          <div>\r\n            <div style={{ display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '8px' }}>\r\n              <FireOutlined style={{ color: '#f59e0b' }} />\r\n              <span style={{ color: '#8b8d97', fontSize: '12px' }}>热门股票</span>\r\n            </div>\r\n            <div style={{ display: 'flex', flexWrap: 'wrap', gap: '8px' }}>\r\n              {HOT_STOCKS.map((stock) => (\r\n                <Tooltip key={stock.code} title={`添加${stock.name}到关注列表`}>\r\n                  <Tag \r\n                    style={{\r\n                      background: '#3a3d4a',\r\n                      borderColor: '#4a4d5a',\r\n                      color: '#ffffff',\r\n                      cursor: 'pointer',\r\n                      padding: '4px 8px',\r\n                      borderRadius: '4px'\r\n                    }}\r\n                    onClick={() => selectHotStock(stock)}\r\n                  >\r\n                    {stock.name} ({stock.code})\r\n                  </Tag>\r\n                </Tooltip>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}