{"ast":null,"code":"import React,{useState}from'react';import{Table,Button,message,Tooltip,Space}from'antd';import{DeleteOutlined,BarChartOutlined,PushpinOutlined,PushpinFilled}from'@ant-design/icons';import{apiService}from'../services/api';import StockChart from'./StockChart';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const StockTable=_ref=>{let{stocks,loading=false,onRemoveStock,onDrawerStateChange,onRefresh}=_ref;const[chartVisible,setChartVisible]=useState(false);const[selectedStock,setSelectedStock]=useState(null);const[pinLoading,setPinLoading]=useState('');// 记录正在切换置顶状态的股票代码\nconst[currentPage,setCurrentPage]=useState(1);const[pageSize,setPageSize]=useState(20);// 计算动态表格高度\nconst getTableHeight=()=>{// 基础高度：表头(40px) + 每行(40px) + 底部间距(20px)\nconst headerHeight=40;const rowHeight=40;const bottomPadding=20;const calculatedHeight=headerHeight+pageSize*rowHeight+bottomPadding;// 设置最小高度和最大高度\nconst minHeight=200;const maxHeight=600;return Math.max(minHeight,Math.min(maxHeight,calculatedHeight));};// 自定义排序图标\nconst CustomSortIcon=_ref2=>{let{sortOrder}=_ref2;if(sortOrder==='ascend'){return/*#__PURE__*/_jsx(\"span\",{style:{color:'#1890ff'},children:\"\\u2191\"});}if(sortOrder==='descend'){return/*#__PURE__*/_jsx(\"span\",{style:{color:'#1890ff'},children:\"\\u2193\"});}return/*#__PURE__*/_jsx(\"span\",{style:{color:'#bfbfbf'},children:\"\\u2195\"});};// 处理股票移除\nconst handleRemove=async code=>{try{await onRemoveStock(code);}catch(error){console.error('移除股票失败:',error);message.error('移除失败，请重试');}};// 处理股票置顶切换\nconst handleTogglePin=async code=>{setPinLoading(code);try{const response=await apiService.togglePinStock(code);if(response.success){message.success(response.message);onRefresh===null||onRefresh===void 0?void 0:onRefresh();// 刷新列表以更新排序\n}else{message.error(response.error||'操作失败');}}catch(error){console.error('切换置顶状态失败:',error);message.error('操作失败，请重试');}finally{setPinLoading('');}};// 处理股票名称点击，显示走势图\nconst handleStockNameClick=(code,name)=>{setSelectedStock({code,name});setChartVisible(true);onDrawerStateChange===null||onDrawerStateChange===void 0?void 0:onDrawerStateChange(true);};// 关闭走势图\nconst handleChartClose=()=>{setChartVisible(false);setSelectedStock(null);onDrawerStateChange===null||onDrawerStateChange===void 0?void 0:onDrawerStateChange(false);};// 双击股票代码复制到剪贴板\nconst handleCodeDoubleClick=async code=>{try{await navigator.clipboard.writeText(code);message.success(`股票代码 ${code} 已复制到剪贴板`);}catch(error){console.error('复制失败:',error);message.error('复制失败');}};// 表格列定义\nconst columns=[{title:'股票信息',key:'stock_info',width:180,fixed:'left',render:(_,record)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',cursor:'pointer',color:'#1890ff',marginBottom:'2px'},onClick:()=>handleStockNameClick(record.code,record.name),title:\"\\u70B9\\u51FB\\u67E5\\u770B\\u8D70\\u52BF\\u56FE\",children:record.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',cursor:'pointer'},onDoubleClick:()=>handleCodeDoubleClick(record.code),title:\"\\u53CC\\u51FB\\u590D\\u5236\\u4EE3\\u7801\",children:record.code}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'11px',color:'#999'},children:record.industry})]})},{title:'当前价格',dataIndex:'current_price',key:'current_price',width:100,align:'right',sorter:(a,b)=>(a.current_price||0)-(b.current_price||0),sortIcon:CustomSortIcon,render:value=>value?`¥${value.toFixed(2)}`:'-'},{title:'涨跌幅',key:'change',width:120,align:'right',sorter:(a,b)=>(a.change_percent||0)-(b.change_percent||0),sortIcon:CustomSortIcon,render:(_,record)=>{const changePercent=record.change_percent;const changeAmount=record.change_amount;if(changePercent===null||changePercent===undefined)return'-';const color=changePercent>0?'#f5222d':changePercent<0?'#52c41a':'#666';const prefix=changePercent>0?'+':'';return/*#__PURE__*/_jsxs(\"div\",{style:{color},children:[/*#__PURE__*/_jsxs(\"div\",{children:[prefix,changePercent.toFixed(2),\"%\"]}),changeAmount&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px'},children:[prefix,changeAmount.toFixed(2)]})]});}},{title:'市值',dataIndex:'market_cap',key:'market_cap',width:100,align:'right',sorter:(a,b)=>{const getNumericValue=cap=>{if(!cap||cap==='-')return 0;const num=parseFloat(cap.replace(/[^\\d.]/g,''));if(cap.includes('万亿'))return num*10000;if(cap.includes('千亿'))return num*1000;if(cap.includes('亿'))return num;return num/100;};return getNumericValue(a.market_cap||'')-getNumericValue(b.market_cap||'');},sortIcon:CustomSortIcon,render:value=>value||'-'},{title:'市赚率',dataIndex:'market_earning_ratio',key:'market_earning_ratio',width:90,align:'right',sorter:(a,b)=>(a.market_earning_ratio||0)-(b.market_earning_ratio||0),sortIcon:CustomSortIcon,render:value=>value?value.toFixed(2):'-'},{title:/*#__PURE__*/_jsx(Tooltip,{title:\"TTM\\u5E02\\u76C8\\u7387\",children:/*#__PURE__*/_jsx(\"span\",{style:{whiteSpace:'nowrap'},children:\"TTM\\u5E02\\u76C8\\u7387\"})}),dataIndex:'pe_ratio_ttm',key:'pe_ratio_ttm',width:100,align:'right',sorter:(a,b)=>(a.pe_ratio_ttm||0)-(b.pe_ratio_ttm||0),sortIcon:CustomSortIcon,render:value=>value?value.toFixed(2):'-'},{title:'ROE',dataIndex:'roe',key:'roe',width:80,align:'right',sorter:(a,b)=>{const aValue=typeof a.roe==='number'?a.roe:0;const bValue=typeof b.roe==='number'?b.roe:0;return aValue-bValue;},sortIcon:CustomSortIcon,render:value=>{if(typeof value==='number'){return`${(value*100).toFixed(2)}%`;}return value||'-';}},{title:'市净率',dataIndex:'pb_ratio',key:'pb_ratio',width:90,align:'right',sorter:(a,b)=>(a.pb_ratio||0)-(b.pb_ratio||0),sortIcon:CustomSortIcon,render:value=>value?value.toFixed(2):'-'},{title:/*#__PURE__*/_jsx(Tooltip,{title:\"\\u80A1\\u5229\\u652F\\u4ED8\\u7387\",children:/*#__PURE__*/_jsx(\"span\",{style:{whiteSpace:'nowrap'},children:\"\\u80A1\\u5229\\u652F\\u4ED8\\u7387\"})}),dataIndex:'dividend_payout_ratio',key:'dividend_payout_ratio',width:110,align:'right',sorter:(a,b)=>{const aValue=typeof a.dividend_payout_ratio==='number'?a.dividend_payout_ratio:0;const bValue=typeof b.dividend_payout_ratio==='number'?b.dividend_payout_ratio:0;return aValue-bValue;},sortIcon:CustomSortIcon,render:value=>{if(typeof value==='number'){return`${(value*100).toFixed(2)}%`;}return value||'-';}},{title:'修正系数',dataIndex:'correction_factor',key:'correction_factor',width:100,align:'right',sorter:(a,b)=>(a.correction_factor||0)-(b.correction_factor||0),sortIcon:CustomSortIcon,render:value=>value?value.toFixed(2):'-'},{title:/*#__PURE__*/_jsx(Tooltip,{title:\"\\u4FEE\\u6B63\\u5E02\\u8D5A\\u7387\",children:/*#__PURE__*/_jsx(\"span\",{style:{whiteSpace:'nowrap'},children:\"\\u4FEE\\u6B63\\u5E02\\u8D5A\\u7387\"})}),dataIndex:'corrected_market_earning_ratio',key:'corrected_market_earning_ratio',width:110,align:'right',sorter:(a,b)=>(a.corrected_market_earning_ratio||0)-(b.corrected_market_earning_ratio||0),sortIcon:CustomSortIcon,render:value=>value?value.toFixed(2):'-'},{title:'理论股价',dataIndex:'theoretical_price',key:'theoretical_price',width:100,align:'right',sorter:(a,b)=>(a.theoretical_price||0)-(b.theoretical_price||0),sortIcon:CustomSortIcon,render:value=>value?`¥${value.toFixed(2)}`:'-'},{title:'操作',key:'action',width:120,fixed:'right',render:(_,record)=>/*#__PURE__*/_jsxs(Space,{size:\"small\",children:[/*#__PURE__*/_jsx(Tooltip,{title:record.is_pinned?\"取消置顶\":\"置顶\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:record.is_pinned?/*#__PURE__*/_jsx(PushpinFilled,{}):/*#__PURE__*/_jsx(PushpinOutlined,{}),loading:pinLoading===record.code,onClick:()=>handleTogglePin(record.code),style:{color:record.is_pinned?'#f5222d':'#666',padding:'0 4px'}})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u67E5\\u770B\\u8D70\\u52BF\\u56FE\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",icon:/*#__PURE__*/_jsx(BarChartOutlined,{}),onClick:()=>handleStockNameClick(record.code,record.name),style:{color:'#1890ff',padding:'0 4px'}})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u79FB\\u9664\",children:/*#__PURE__*/_jsx(Button,{type:\"text\",size:\"small\",danger:true,icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),onClick:()=>handleRemove(record.code),style:{padding:'0 4px'}})})]})}];// 表格配置\nconst tableProps={columns,dataSource:stocks,loading,rowKey:'code',size:'small',scroll:{x:1400,y:getTableHeight()},pagination:{current:currentPage,pageSize:pageSize,showSizeChanger:true,showQuickJumper:true,showTotal:(total,range)=>/*#__PURE__*/_jsxs(\"span\",{style:{color:'#8b8d97'},children:[\"\\u7B2C \",range[0],\"-\",range[1],\" \\u6761\\uFF0C\\u5171 \",total,\" \\u6761\"]}),pageSizeOptions:['10','20','50','100'],size:'default',className:'custom-pagination',style:{marginTop:'16px',textAlign:'center'},onChange:(page,size)=>{console.log('分页变化:',{page,size});setCurrentPage(page);if(size!==pageSize){setPageSize(size);setCurrentPage(1);// 改变页面大小时重置到第一页\n}},onShowSizeChange:(current,size)=>{console.log('页面大小变化:',{current,size});setPageSize(size);setCurrentPage(1);// 改变页面大小时重置到第一页\n}},style:{backgroundColor:'#2a2d3a',borderRadius:'8px',overflow:'hidden',border:'1px solid #3a3d4a'},onRow:record=>({onDoubleClick:()=>{handleStockNameClick(record.code,record.name);}})};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Table,{...tableProps}),chartVisible&&selectedStock&&/*#__PURE__*/_jsx(StockChart,{visible:chartVisible,stockCode:selectedStock.code,stockName:selectedStock.name,onClose:handleChartClose})]});};export default StockTable;","map":{"version":3,"names":["React","useState","Table","Button","message","Tooltip","Space","DeleteOutlined","BarChartOutlined","PushpinOutlined","PushpinFilled","apiService","StockChart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","StockTable","_ref","stocks","loading","onRemoveStock","onDrawerStateChange","onRefresh","chartVisible","setChartVisible","selectedStock","setSelectedStock","pinLoading","setPinLoading","currentPage","setCurrentPage","pageSize","setPageSize","getTableHeight","headerHeight","rowHeight","bottomPadding","calculatedHeight","minHeight","maxHeight","Math","max","min","CustomSortIcon","_ref2","sortOrder","style","color","children","handleRemove","code","error","console","handleTogglePin","response","togglePinStock","success","handleStockNameClick","name","handleChartClose","handleCodeDoubleClick","navigator","clipboard","writeText","columns","title","key","width","fixed","render","_","record","fontWeight","cursor","marginBottom","onClick","fontSize","onDoubleClick","industry","dataIndex","align","sorter","a","b","current_price","sortIcon","value","toFixed","change_percent","changePercent","changeAmount","change_amount","undefined","prefix","getNumericValue","cap","num","parseFloat","replace","includes","market_cap","market_earning_ratio","whiteSpace","pe_ratio_ttm","aValue","roe","bValue","pb_ratio","dividend_payout_ratio","correction_factor","corrected_market_earning_ratio","theoretical_price","size","is_pinned","type","icon","padding","danger","tableProps","dataSource","rowKey","scroll","x","y","pagination","current","showSizeChanger","showQuickJumper","showTotal","total","range","pageSizeOptions","className","marginTop","textAlign","onChange","page","log","onShowSizeChange","backgroundColor","borderRadius","overflow","border","onRow","visible","stockCode","stockName","onClose"],"sources":["E:/AICode/StockInsight/frontend/src/components/StockTable.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Table, Button, message, Tooltip, Space } from 'antd';\r\nimport { DeleteOutlined, BarChartOutlined, PushpinOutlined, PushpinFilled } from '@ant-design/icons';\r\nimport type { ColumnsType, TableProps } from 'antd/es/table';\r\nimport { StockInfo, apiService } from '../services/api';\r\nimport StockChart from './StockChart';\r\n\r\ninterface StockTableProps {\r\n  stocks: StockInfo[];\r\n  loading?: boolean;\r\n  onRemoveStock: (code: string) => void;\r\n  onDrawerStateChange?: (isOpen: boolean) => void;\r\n  onRefresh?: () => void;\r\n}\r\n\r\nconst StockTable: React.FC<StockTableProps> = ({ \r\n  stocks, \r\n  loading = false, \r\n  onRemoveStock,\r\n  onDrawerStateChange,\r\n  onRefresh \r\n}) => {\r\n  const [chartVisible, setChartVisible] = useState(false);\r\n  const [selectedStock, setSelectedStock] = useState<{ code: string; name: string } | null>(null);\r\n  const [pinLoading, setPinLoading] = useState<string>(''); // 记录正在切换置顶状态的股票代码\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(20);\r\n\r\n  // 计算动态表格高度\r\n  const getTableHeight = () => {\r\n    // 基础高度：表头(40px) + 每行(40px) + 底部间距(20px)\r\n    const headerHeight = 40;\r\n    const rowHeight = 40;\r\n    const bottomPadding = 20;\r\n    const calculatedHeight = headerHeight + (pageSize * rowHeight) + bottomPadding;\r\n    \r\n    // 设置最小高度和最大高度\r\n    const minHeight = 200;\r\n    const maxHeight = 600;\r\n    \r\n    return Math.max(minHeight, Math.min(maxHeight, calculatedHeight));\r\n  };\r\n\r\n  // 自定义排序图标\r\n  const CustomSortIcon = ({ sortOrder }: { sortOrder?: 'ascend' | 'descend' | null }) => {\r\n    if (sortOrder === 'ascend') {\r\n      return <span style={{ color: '#1890ff' }}>↑</span>;\r\n    }\r\n    if (sortOrder === 'descend') {\r\n      return <span style={{ color: '#1890ff' }}>↓</span>;\r\n    }\r\n    return <span style={{ color: '#bfbfbf' }}>↕</span>;\r\n  };\r\n\r\n  // 处理股票移除\r\n  const handleRemove = async (code: string) => {\r\n    try {\r\n      await onRemoveStock(code);\r\n    } catch (error) {\r\n      console.error('移除股票失败:', error);\r\n      message.error('移除失败，请重试');\r\n    }\r\n  };\r\n\r\n  // 处理股票置顶切换\r\n  const handleTogglePin = async (code: string) => {\r\n    setPinLoading(code);\r\n    try {\r\n      const response = await apiService.togglePinStock(code);\r\n      if (response.success) {\r\n        message.success(response.message);\r\n        onRefresh?.(); // 刷新列表以更新排序\r\n      } else {\r\n        message.error(response.error || '操作失败');\r\n      }\r\n    } catch (error) {\r\n      console.error('切换置顶状态失败:', error);\r\n      message.error('操作失败，请重试');\r\n    } finally {\r\n      setPinLoading('');\r\n    }\r\n  };\r\n\r\n  // 处理股票名称点击，显示走势图\r\n  const handleStockNameClick = (code: string, name: string) => {\r\n    setSelectedStock({ code, name });\r\n    setChartVisible(true);\r\n    onDrawerStateChange?.(true);\r\n  };\r\n\r\n  // 关闭走势图\r\n  const handleChartClose = () => {\r\n    setChartVisible(false);\r\n    setSelectedStock(null);\r\n    onDrawerStateChange?.(false);\r\n  };\r\n\r\n  // 双击股票代码复制到剪贴板\r\n  const handleCodeDoubleClick = async (code: string) => {\r\n    try {\r\n      await navigator.clipboard.writeText(code);\r\n      message.success(`股票代码 ${code} 已复制到剪贴板`);\r\n    } catch (error) {\r\n      console.error('复制失败:', error);\r\n      message.error('复制失败');\r\n    }\r\n  };\r\n\r\n  // 表格列定义\r\n  const columns: ColumnsType<StockInfo> = [\r\n    {\r\n      title: '股票信息',\r\n      key: 'stock_info',\r\n      width: 180,\r\n      fixed: 'left',\r\n      render: (_, record) => (\r\n        <div>\r\n          <div \r\n            style={{ \r\n              fontWeight: 'bold', \r\n              cursor: 'pointer',\r\n              color: '#1890ff',\r\n              marginBottom: '2px'\r\n            }}\r\n            onClick={() => handleStockNameClick(record.code, record.name)}\r\n            title=\"点击查看走势图\"\r\n          >\r\n            {record.name}\r\n          </div>\r\n          <div \r\n            style={{ \r\n              fontSize: '12px', \r\n              color: '#666',\r\n              cursor: 'pointer'\r\n            }}\r\n            onDoubleClick={() => handleCodeDoubleClick(record.code)}\r\n            title=\"双击复制代码\"\r\n          >\r\n            {record.code}\r\n          </div>\r\n          <div style={{ fontSize: '11px', color: '#999' }}>\r\n            {record.industry}\r\n          </div>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: '当前价格',\r\n      dataIndex: 'current_price',\r\n      key: 'current_price',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.current_price || 0) - (b.current_price || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? `¥${value.toFixed(2)}` : '-',\r\n    },\r\n    {\r\n      title: '涨跌幅',\r\n      key: 'change',\r\n      width: 120,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.change_percent || 0) - (b.change_percent || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (_, record) => {\r\n        const changePercent = record.change_percent;\r\n        const changeAmount = record.change_amount;\r\n        if (changePercent === null || changePercent === undefined) return '-';\r\n        \r\n        const color = changePercent > 0 ? '#f5222d' : changePercent < 0 ? '#52c41a' : '#666';\r\n        const prefix = changePercent > 0 ? '+' : '';\r\n        \r\n        return (\r\n          <div style={{ color }}>\r\n            <div>{prefix}{changePercent.toFixed(2)}%</div>\r\n            {changeAmount && (\r\n              <div style={{ fontSize: '11px' }}>\r\n                {prefix}{changeAmount.toFixed(2)}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      title: '市值',\r\n      dataIndex: 'market_cap',\r\n      key: 'market_cap',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const getNumericValue = (cap: string) => {\r\n          if (!cap || cap === '-') return 0;\r\n          const num = parseFloat(cap.replace(/[^\\d.]/g, ''));\r\n          if (cap.includes('万亿')) return num * 10000;\r\n          if (cap.includes('千亿')) return num * 1000;\r\n          if (cap.includes('亿')) return num;\r\n          return num / 100;\r\n        };\r\n        return getNumericValue(a.market_cap || '') - getNumericValue(b.market_cap || '');\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value || '-',\r\n    },\r\n    {\r\n      title: '市赚率',\r\n      dataIndex: 'market_earning_ratio',\r\n      key: 'market_earning_ratio',\r\n      width: 90,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.market_earning_ratio || 0) - (b.market_earning_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"TTM市盈率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>TTM市盈率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'pe_ratio_ttm',\r\n      key: 'pe_ratio_ttm',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.pe_ratio_ttm || 0) - (b.pe_ratio_ttm || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: 'ROE',\r\n      dataIndex: 'roe',\r\n      key: 'roe',\r\n      width: 80,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const aValue = typeof a.roe === 'number' ? a.roe : 0;\r\n        const bValue = typeof b.roe === 'number' ? b.roe : 0;\r\n        return aValue - bValue;\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => {\r\n        if (typeof value === 'number') {\r\n          return `${(value * 100).toFixed(2)}%`;\r\n        }\r\n        return value || '-';\r\n      },\r\n    },\r\n    {\r\n      title: '市净率',\r\n      dataIndex: 'pb_ratio',\r\n      key: 'pb_ratio',\r\n      width: 90,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.pb_ratio || 0) - (b.pb_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"股利支付率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>股利支付率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'dividend_payout_ratio',\r\n      key: 'dividend_payout_ratio',\r\n      width: 110,\r\n      align: 'right',\r\n      sorter: (a, b) => {\r\n        const aValue = typeof a.dividend_payout_ratio === 'number' ? a.dividend_payout_ratio : 0;\r\n        const bValue = typeof b.dividend_payout_ratio === 'number' ? b.dividend_payout_ratio : 0;\r\n        return aValue - bValue;\r\n      },\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => {\r\n        if (typeof value === 'number') {\r\n          return `${(value * 100).toFixed(2)}%`;\r\n        }\r\n        return value || '-';\r\n      },\r\n    },\r\n    {\r\n      title: '修正系数',\r\n      dataIndex: 'correction_factor',\r\n      key: 'correction_factor',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.correction_factor || 0) - (b.correction_factor || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: (\r\n        <Tooltip title=\"修正市赚率\">\r\n          <span style={{ whiteSpace: 'nowrap' }}>修正市赚率</span>\r\n        </Tooltip>\r\n      ),\r\n      dataIndex: 'corrected_market_earning_ratio',\r\n      key: 'corrected_market_earning_ratio',\r\n      width: 110,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.corrected_market_earning_ratio || 0) - (b.corrected_market_earning_ratio || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? value.toFixed(2) : '-',\r\n    },\r\n    {\r\n      title: '理论股价',\r\n      dataIndex: 'theoretical_price',\r\n      key: 'theoretical_price',\r\n      width: 100,\r\n      align: 'right',\r\n      sorter: (a, b) => (a.theoretical_price || 0) - (b.theoretical_price || 0),\r\n      sortIcon: CustomSortIcon,\r\n      render: (value) => value ? `¥${value.toFixed(2)}` : '-',\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      width: 120,\r\n      fixed: 'right',\r\n      render: (_, record) => (\r\n        <Space size=\"small\">\r\n          <Tooltip title={record.is_pinned ? \"取消置顶\" : \"置顶\"}>\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              icon={record.is_pinned ? <PushpinFilled /> : <PushpinOutlined />}\r\n              loading={pinLoading === record.code}\r\n              onClick={() => handleTogglePin(record.code)}\r\n              style={{ \r\n                color: record.is_pinned ? '#f5222d' : '#666',\r\n                padding: '0 4px'\r\n              }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"查看走势图\">\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              icon={<BarChartOutlined />}\r\n              onClick={() => handleStockNameClick(record.code, record.name)}\r\n              style={{ color: '#1890ff', padding: '0 4px' }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"移除\">\r\n            <Button\r\n              type=\"text\"\r\n              size=\"small\"\r\n              danger\r\n              icon={<DeleteOutlined />}\r\n              onClick={() => handleRemove(record.code)}\r\n              style={{ padding: '0 4px' }}\r\n            />\r\n          </Tooltip>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  // 表格配置\r\n  const tableProps: TableProps<StockInfo> = {\r\n    columns,\r\n    dataSource: stocks,\r\n    loading,\r\n    rowKey: 'code',\r\n    size: 'small',\r\n    scroll: { x: 1400, y: getTableHeight() },\r\n    pagination: {\r\n      current: currentPage,\r\n      pageSize: pageSize,\r\n      showSizeChanger: true,\r\n      showQuickJumper: true,\r\n      showTotal: (total, range) => (\r\n        <span style={{ color: '#8b8d97' }}>\r\n          第 {range[0]}-{range[1]} 条，共 {total} 条\r\n        </span>\r\n      ),\r\n      pageSizeOptions: ['10', '20', '50', '100'],\r\n      size: 'default',\r\n      className: 'custom-pagination',\r\n      style: {\r\n        marginTop: '16px',\r\n        textAlign: 'center',\r\n      },\r\n      onChange: (page, size) => {\r\n        console.log('分页变化:', { page, size });\r\n        setCurrentPage(page);\r\n        if (size !== pageSize) {\r\n          setPageSize(size);\r\n          setCurrentPage(1); // 改变页面大小时重置到第一页\r\n        }\r\n      },\r\n      onShowSizeChange: (current, size) => {\r\n        console.log('页面大小变化:', { current, size });\r\n        setPageSize(size);\r\n        setCurrentPage(1); // 改变页面大小时重置到第一页\r\n      },\r\n    },\r\n    style: {\r\n      backgroundColor: '#2a2d3a',\r\n      borderRadius: '8px',\r\n      overflow: 'hidden',\r\n      border: '1px solid #3a3d4a',\r\n    },\r\n    onRow: (record) => ({\r\n      onDoubleClick: () => {\r\n        handleStockNameClick(record.code, record.name);\r\n      },\r\n    }),\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Table {...tableProps} />\r\n      \r\n      {chartVisible && selectedStock && (\r\n        <StockChart\r\n          visible={chartVisible}\r\n          stockCode={selectedStock.code}\r\n          stockName={selectedStock.name}\r\n          onClose={handleChartClose}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StockTable;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}